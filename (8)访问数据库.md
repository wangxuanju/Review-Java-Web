# 一、JDBC简介

# 二、通过JDBC API访问数据库的JSP范例程序


# 三、bookstore应用通过JDBC API访问数据库


# 四、数据源简介
JDBC数据源2.0提供了javax.sql.DataSource接口，负责建立与数据库的连接。
## 数据源和JNDI资源
JNDI技术是一种将对象和名字绑定的技术，外部程序可以通过名字来获得某个对象的引用。

DataSource对象通常是由Servlet容器提供，直接使用Servlet容器提供的DataSource对象即可。

在javax.naming包中提供了Context接口，该接口提供了将对象和名字绑定,以及通过名字来检索对象的方法。
# 五、程序中访问数据源
javax.naming.Context提供了查找JDNI资源的接口，例如通过以下代码获得jdbc/BookDB资源的引用:
```java
Context ctx = new InitialContext();
DateSource ds = (DataSource)ctx.lookup("java:comp/env/jdbc/BookDB");
//得到DataSource对象的引用后，可以通过DateSource的getConnection()方法获得数据库连接对象Connection
connection con = ds.getConnection();
当程序结束数据库访问之后，应该调用Connection对象的close()方法，及时将Connection对象返回数据库连接池，使Connection对象恢复到空闲状态。
```
## 通过数据源连接数据库的JSP范例程序
```java



```

# 六、处理中文编码
通过以下两种方式之一把参数转换为中文字符编码。
（1）当请求方式为“POST”时，请求参数位于请求正文中（因此可以先把请求正文的字符编码设为"GB2312"，然后再读取请求参数）。
```java
<%
if(request.getMethod().equealsIgnoreCase("POST")){
    //把请求正文的编码设为“GB2312”
    request.setCharacterEncoding("GB2312");
     //直接读取采用GB2312编码的username请求参数
    STring username=request.getParameter("username");
}
%>
```
当请求方式为GET时，请求参数位于请求头的URI中（此时request.setCharacterEncoding("GB2312"）无法改变请求参数的字符编码）。

（2）先读取请求参数，再进行字符编码转换，这种方法适用于任何请求方式。（第二种用法经典）
```java
<%
    String username=request.getParamter("username");
    //进行字符编码转换
    if(username!=null){
        username=new String(username.getBytes("ISO8859-1","GB2312");
%>
```
# 八、分页显示批量数据*
